<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Serenify - Your Sanctuary for Calm</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* --- Capstone UI: Ethereal Sage Theme --- */
        :root {
            --color-primary: #5fa393; /* Muted Sage Green */
            --color-secondary: #f2f8f7; /* Very Light Sage Background */
            --color-text: #333d47; /* Dark Slate Gray */
            --color-accent: #f4c0a5; /* Rose Gold / Peach Accent */
            --color-shadow-light: rgba(95, 163, 147, 0.25); /* Primary color shadow */
        }
        
        body {
            font-family: 'Inter', sans-serif;
            color: var(--color-text);
            /* Fixed Background: Soft gradient with subtle noise texture */
            background: linear-gradient(135deg, #ffffff 0%, var(--color-secondary) 50%, #f7faf9 100%);
            background-attachment: fixed;
            scroll-behavior: smooth;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }

        /* Subtle Noise Texture Overlay */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="4" height="4" viewBox="0 0 4 4"><rect fill="%23ffffff" width="4" height="4"/><rect x="1" y="1" fill="%23cccccc" width="1" height="1"/><rect x="3" y="3" fill="%23cccccc" width="1" height="1"/></svg>');
            opacity: 0.1;
        }

        /* Card Style: Soft, Deep Lift Effect */
        .card-shadow {
            background-color: rgba(255, 255, 255, 0.98); 
            backdrop-filter: blur(8px); /* Enhanced frosted glass */
            border-radius: 2rem; 
            box-shadow: 0 20px 50px var(--color-shadow-light), 0 8px 20px rgba(0, 0, 0, 0.05); /* Deeper, softer shadow */
            transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
            border: 1px solid rgba(255, 255, 255, 0.8); 
        }

        .card-shadow:hover {
            transform: translateY(-10px) scale(1.005); /* Greater hover lift */
            box-shadow: 0 30px 60px var(--color-shadow-light), 0 15px 30px rgba(0, 0, 0, 0.1);
        }

        /* Input Focus Glow (Soft Sage) */
        .void-input {
            resize: none;
            height: 150px;
            background-color: #ffffff;
            border: 1px solid #d1d5db;
            transition: all 0.3s ease;
        }
        .void-input:focus {
            outline: none;
            box-shadow: 0 0 0 4px rgba(95, 163, 147, 0.3); /* Sage glow */
            border-color: var(--color-primary);
        }

        /* Section Header - Sage Line */
        .section-header {
            border-left: 6px solid var(--color-primary); 
            padding-left: 1.5rem;
            color: #1f2937;
        }

        /* Custom Button Styles - Soft Glow and Inner Shadow */
        .btn-base {
            color: white;
            font-weight: 600;
            padding: 0.75rem 2rem;
            border-radius: 0.75rem;
            transition: all 0.3s ease;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15), inset 0 1px 3px rgba(255, 255, 255, 0.3);
        }

        .btn-primary {
            background-color: var(--color-primary);
        }
        .btn-primary:hover {
            filter: brightness(1.1);
            box-shadow: 0 10px 25px rgba(95, 163, 147, 0.6), inset 0 1px 3px rgba(255, 255, 255, 0.3);
        }

        .btn-accent {
            background-color: var(--color-accent);
        }
        .btn-accent:hover {
            filter: brightness(1.1);
            box-shadow: 0 10px 25px rgba(244, 192, 165, 0.6), inset 0 1px 3px rgba(255, 255, 255, 0.3);
        }
        
        .mood-selector .mood-option {
            transition: all 0.2s;
            transform: scale(1);
        }
        .mood-selector .mood-option:hover {
            transform: scale(1.3);
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
        }

        /* Icon for Hero Section */
        .serenify-icon {
            color: var(--color-primary);
            width: 4rem; /* Larger icon */
            height: 4rem;
        }
        
        /* Subtle circles for background interest */
        .hero-circle {
            position: absolute;
            width: 350px;
            height: 350px;
            border-radius: 50%;
            opacity: 0.15;
            filter: blur(100px); /* Ultra-soft blur */
            z-index: 0;
            pointer-events: none;
        }
        .hero-circle-1 {
            top: -100px;
            right: -100px;
            background-color: var(--color-primary);
        }
        .hero-circle-2 {
            bottom: -100px;
            left: -100px;
            background-color: var(--color-accent);
        }
        .emoji-container {
    width: 280px;          /* adjust width */
    max-height: 300px;     /* scrollable */
    overflow-y: scroll;    
    display: grid;
    grid-template-columns: repeat(5, 1fr);  /* 5 emojis per row */
    gap: 10px;
    padding: 10px;
    background: #f5f5f5;
    border-radius: 8px;
}

.emoji {
    font-size: 32px;
    cursor: pointer;
    text-align: center;
    transition: 0.1s;
}

.emoji:hover {
    transform: scale(1.3);
}

     

</style>

    <!-- Use Inter font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
</head>
<body class="text-gray-800">

    <!-- Header Navigation -->
    <header class="sticky top-0 z-50 bg-white/80 backdrop-blur-md shadow-xl border-b border-gray-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <h1 class="text-3xl font-extrabold text-sage-600 tracking-wider text-indigo-700" style="color:var(--color-primary);">Serenify</h1>
            <nav class="flex items-center space-x-6 text-sm font-medium">
                <div class="hidden md:flex space-x-6">
                    <a href="#welcome" class="text-gray-600 hover:text-indigo-500 transition duration-150">Home</a>
                    <a href="#quotes" class="text-gray-600 hover:text-indigo-500 transition duration-150">Quotes</a>
                    <a href="#void" class="text-gray-600 hover:text-indigo-500 transition duration-150">The Void</a>
                    <a href="#diary" class="text-gray-600 hover:text-indigo-500 transition duration-150">My Diary</a>
                    <a href="#support" class="text-gray-600 hover:text-indigo-500 transition duration-150">Support Hub</a>
                    <a href="#recipes" class="text-gray-600 hover:text-indigo-500 transition duration-150">Calm Recipes</a>
                </div>
                <!-- Login Visual Placeholders -->
                {% if user.username %}
                    <form action="/logout/" method="POST">
                        <span class="text-gray-700">Hello, {{ user.username }}!</span>
                        <button type="submit" class="text-white btn-accent px-4 py-2 rounded-full text-xs font-bold transition duration-150 shadow-lg">Logout
                        </button>
                    </form>
                {% else %}
                    <form action="/login/" method="POST">
                    <button type="submit" class="text-white btn-primary px-4 py-2 rounded-full text-xs font-bold transition duration-150 shadow-lg">
            Login / Register
        </button>
    </form>
{% endif %}
{% if user and user.role == 'user' %}
    <form action="/profession/" method="POST">
        <button type="submit" class="text-white btn-primary px-4 py-2 rounded-full text-xs font-bold transition duration-150 shadow-lg">Apply as Professional
        </button>
    </form>
{% endif %}

            </nav>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10">

        <!-- 1. Hero & Welcome Section -->
        <section id="welcome" class="text-center py-32 bg-white rounded-[2.5rem] card-shadow mb-20 relative overflow-hidden">
            <!-- Subtle Blurry Background Elements -->
            <div class="hero-circle hero-circle-1"></div>
            <div class="hero-circle hero-circle-2"></div>
            
            <div class="relative z-10 max-w-4xl mx-auto">
                <!-- Icon for Capstone look (A soft heart inside a circle) -->
                <svg class="serenify-icon mx-auto mb-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"></path>
                    <path d="M12 8.5C10.5 6.5 8 7 8 9.5c0 2.5 4 4.5 4 4.5s4-2 4-4.5c0-2.5-2.5-3-4-1z"></path>
                </svg>

                <h2 class="text-7xl font-extrabold text-gray-900 mb-6 tracking-tighter">Your Sanctuary, Serenify</h2>
                <p class="text-3xl" style="color:var(--color-primary); font-weight: 300;">
                    Find quiet strength in reflection and connection.
                </p>

                <div class="mt-12">
                    <a href="#quotes" class="inline-block btn-primary shadow-2xl hover:scale-[1.03]">
                        Discover Calm
                    </a>
                </div>
            </div>
        </section>
<!--Quiz-->      
         <a href="{{url_for('health_quiz')}}" class="block mt-10 mb-20">
                    <div class="p-6 bg-white rounded-xl card-shadow border-l-4 border-blue-400 hover:bg-blue-50 cursor-pointer">
                        <div class="text-3xl mb-2">üìä</div>
                        <h4 class="font-semibold text-lg text-gray-700">Wellness Assessment</h4>
                        <p class="text-sm text-gray-500">Take a quick wellness check-in to reflect on your current state.</p>
                    </div>
                </a>

<!-- 3. The Void -->
        <section id="void" class="py-12">
            <h3 class="text-4xl font-bold mb-10 section-header">The Void: Release Your Heavy Thoughts</h3>
            <div class="p-12 bg-white rounded-[2rem] card-shadow border-2" style="border-color: var(--color-accent);">
                <h4 class="text-3xl font-semibold mb-4" style="color:var(--color-accent);">Toss Into the Silent Void</h4>
                <p class="mb-6 text-gray-600 text-lg">Type out the frustrations, anxieties, or raw thoughts you need to cast away. This is for release, not record.</p>
                <div role="group">
                    <textarea placeholder="Let it all out here... This space holds no judgement." class="void-input w-full p-6 rounded-2xl h-48"></textarea>
                    <a href="#" class="block text-center mt-6 py-4 px-6 btn-accent hover:scale-[1.005]">
                        Toss Into the Silent Void
                    </a>
                </div>
            </div>
        </section>

        <!-- 4. Private Diary (Cleaned for Backend Integration) -->
       <section id="diary" class="py-12">
    <h3 class="text-4xl font-bold mb-10 section-header">My Private Diary & Mood Tracker</h3>

    <!-- New Button to Jump to Latest Entry -->
    <div class="flex justify-end mb-6">
        <a href="/past-entries/"
           class="py-3 px-6 rounded-xl bg-[#5fa393] text-white font-semibold shadow hover:bg-[#4e7a7a] transition">
            View Past Entries
        </a>
    </div>

    <div class="grid lg:grid-cols-3 gap-8">

        <form action="/diary/" method="POST" class="contents">

            <!-- Left Column -->
            <div class="lg:col-span-1 p-10 bg-white rounded-[2rem] card-shadow border-2"
                 style="border-color: var(--color-primary);">

                <h4 class="text-2xl font-semibold mb-4" style="color: var(--color-primary);">
                    How Are You Feeling Today?
                </h4>

                <p class="mb-8 text-gray-600 text-base">
                    Select the emoji that best reflects your current emotional state.
                </p>

                <div class="emoji-container">
                    {% for emoji in EMOJIS %}
                    <div class="emoji" onclick="selectEmoji('{{ emoji }}')">{{ emoji }}</div>
                    {% endfor %}
                </div>
                <p>Selected Emoji: <span id="selectedEmoji"></span></p>
                <input type="hidden" name="emoji" id="emoji-input">
                <h4 class="text-xl font-semibold mt-10 mb-4" style="color: var(--color-primary);">
                    Daily Reflection
                </h4>

                <div role="group">
                    <textarea placeholder="Write your reflections, wins, or challenges..."
                              class="void-input w-full p-4 rounded-xl h-36"
                              name="diary-entries"></textarea>

                    <button type="submit"
                            class="block text-center mt-6 py-4 px-6 btn-primary hover:scale-[1.005]">
                        Seal Today's Entry
                    </button>
                </div>
            </div>

            <!-- Right Column -->
            <div class="lg:col-span-2 p-10 bg-white rounded-[2rem] card-shadow border-2 border-gray-200">

                <h4 class="text-2xl font-semibold mb-6 text-gray-700">Recent Entries</h4>
                <p class="mb-6 text-gray-500">View your past reflections, moods, and patterns here.</p>

                <div class="space-y-4" id="latest-entry">
                    {% for entry in diary_entries %}
                    <div class="p-4 bg-gray-50 rounded-xl border border-gray-200 
                            flex justify-between items-center hover:bg-gray-100 transition duration-150">
                        <div>
                            <p class="font-bold text-base text-gray-600">
                                {{ entry.created_at }}
                            </p>

                            <p class="text-sm mt-1 text-gray-500 italic truncate max-w-lg">
                                "{{ entry.content }}"
                            </p>
                        </div>

                        <span class="text-3xl ml-4 flex-shrink-0">
                            {{ entry.emoji }}
                        </span>
                    </div>
                    {% endfor %}

                    {% if not diary_entries %}
                        <div class="p-4 bg-gray-50 rounded-xl border border-gray-200 text-center text-gray-400">
                            No diary entries found. Start by sealing today's reflection!
                        </div>
                    {% endif %}
                </div>
            </div>

        </form>
    </div>
</section>

        <!-- 5. Identify Reasons for Distress/Anxiety -->
        <section id="distress-reasons" class="py-12">
            <h3 class="text-4xl font-bold mb-10 section-header">Understanding Your Roots of Distress</h3>
            <p class="text-lg text-gray-600 mb-8 font-light max-w-3xl">Identifying the source is the first step toward self-compassion. Click on the areas that resonate with you (visual only).</p>

            <div class="grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
                <!-- Reason Card 1 -->
                <a href="{{ url_for('distress_page', topic='study') }}">
                    <div class="p-6 bg-white rounded-xl card-shadow border-l-4 border-red-400 hover:bg-red-50 cursor-pointer">
                        <div class="text-3xl mb-2">üìö</div>
                        <h4 class="font-semibold text-lg text-gray-700">Study/Work Pressure</h4>
                        <p class="text-sm text-gray-500">The weight of expectations and deadlines.</p>
                    </div>
                </a>
                <!-- Reason Card 2 -->
                <a href="{{ url_for('distress_page', topic='family') }}">
                    <div class="p-6 bg-white rounded-xl card-shadow border-l-4 border-blue-400 hover:bg-blue-50 cursor-pointer">
                        <div class="text-3xl mb-2">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</div>
                        <h4 class="font-semibold text-lg text-gray-700">Family/Relationship Issues</h4>
                        <p class="text-sm text-gray-500">Navigating complex personal bonds.</p>
                    </div>
                </a>
                <!-- Reason Card 3 -->
                <a href="{{ url_for('distress_page', topic='chronic') }}">
                    <div class="p-6 bg-white rounded-xl card-shadow border-l-4 border-amber-400 hover:bg-amber-50 cursor-pointer">
                        <div class="text-3xl mb-2">ü©π</div>
                        <h4 class="font-semibold text-lg text-gray-700">Chronic Illness/Health</h4>
                        <p class="text-sm text-gray-500">The struggle of long-term physical challenges.</p>
                    </div>
                </a>
                <!-- Reason Card 4 -->
                <a href="{{ url_for('distress_page', topic='financial') }}">
                    <div class="p-6 bg-white rounded-xl card-shadow border-l-4 border-purple-400 hover:bg-purple-50 cursor-pointer">
                        <div class="text-3xl mb-2">üí∞</div>
                        <h4 class="font-semibold text-lg text-gray-700">Financial Instability</h4>
                        <p class="text-sm text-gray-500">Worry and stress over security.</p>
                    </div>
                </a>
                <!-- Reason Card 5 -->
                <a href="{{ url_for('distress_page', topic='existential') }}">
                    <div class="p-6 bg-white rounded-xl card-shadow border-l-4 border-pink-400 hover:bg-pink-50 cursor-pointer">
                        <div class="text-3xl mb-2">üåé</div>
                        <h4 class="font-semibold text-lg text-gray-700">Existential Dread</h4>
                        <p class="text-sm text-gray-500">Feelings of hopelessness or lack of purpose.</p>
                    </div>
                </a>
                <!-- Reason Card 6 -->
                <div class="p-6 bg-white rounded-xl card-shadow border-l-4 border-emerald-400 hover:bg-emerald-50 cursor-pointer">
                    <div class="text-3xl mb-2">üßò</div>
                    <h4 class="font-semibold text-lg text-gray-700">General Overwhelm</h4>
                    <p class="text-sm text-gray-500">Too much noise, too many demands.</p>
                </div>
            </div>
        </section>


        <!-- 6. Support Hub: Meditation, Yoga, Chatbot, Doctors -->
        <section id="support" class="py-12">
            <h3 class="text-4xl font-bold mb-10 section-header">The Path to Serenity: Support Hub</h3>
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">

                <!-- Meditation Option (Used Primary Color) -->
                <div class="p-6 text-white rounded-2xl card-shadow btn-primary hover:scale-[1.03]">
                    <div class="text-4xl mb-3">üå¨Ô∏è</div>
                    <h4 class="font-bold text-xl mb-2">Guided Meditation</h4>
                    <p class="text-sm opacity-90">Links to gentle 10-minute audio sessions focused on breath and body scans.</p>
                    <a href="#" class="inline-block mt-4 text-xs font-semibold bg-white" style="color:var(--color-primary); padding: 4px 12px; border-radius: 9999px;">Explore</a>
                </div>

                <!-- Yoga Option (Used Accent Color) -->
                <div class="p-6 text-white rounded-2xl card-shadow btn-accent hover:scale-[1.03]">
                    <div class="text-4xl mb-3">üßò‚Äç‚ôÄÔ∏è</div>
                    <h4 class="font-bold text-xl mb-2">Restorative Yoga</h4>
                    <p class="text-sm opacity-90">Simple, calming poses for stress relief and deep rest.</p>
                    <a href="#" class="inline-block mt-4 text-xs font-semibold bg-white" style="color:var(--color-accent); padding: 4px 12px; border-radius: 9999px;">Start Moving</a>
                </div>

                <!-- Chatbot Option (Used a secondary cool color) -->
                <div class="p-6 text-white rounded-2xl card-shadow bg-blue-400 hover:bg-blue-500 transition duration-200 hover:scale-[1.03]">
                    <div class="text-4xl mb-3">ü§ñ</div>
                    <h4 class="font-bold text-xl mb-2">AI Companion Chatbot</h4>
                    <p class="text-sm opacity-90">A kind, non-judgmental AI listener for immediate support.</p>
                    <a href="/chatbot/" class="inline-block mt-4 text-xs font-semibold bg-white text-blue-600 px-4 py-1.5 rounded-full hover:bg-gray-100 transition duration-150">Talk Now</a>
                </div>

                <!-- Doctor's Help (Used a safe warm color) -->
                <div class="p-6 text-white rounded-2xl card-shadow bg-pink-400 hover:bg-pink-500 transition duration-200 hover:scale-[1.03]">
                    <div class="text-4xl mb-3">üßë‚Äç‚öïÔ∏è</div>
                    <h4 class="font-bold text-xl mb-2">Professional Help Directory</h4>
                    <p class="text-sm opacity-90">Find local therapists, hotlines, or specialists in your area.</p>
                    <a href="{{ url_for('professional_support') }}" class="inline-block mt-4 text-xs font-semibold bg-white text-pink-600 px-4 py-1.5 rounded-full hover:bg-gray-100 transition duration-150">Get Connected</a>
                </div>
            </div>
        </section>

        <!-- 7. Calming Recipes -->
        <section id="recipes" class="py-12">
            <h3 class="text-4xl font-bold mb-10 section-header">Recipes for Inner Calm</h3>
            <p class="text-lg text-gray-600 mb-8 font-light max-w-3xl">Nourish your nervous system with simple, soothing ingredients.</p>

            <div class="grid md:grid-cols-2 gap-10">
                <!-- Recipe Card 1: Golden Milk -->
                <div class="p-8 bg-white rounded-[2rem] card-shadow border-l-6 border-amber-300">
                    <h4 class="text-2xl font-semibold mb-4 text-amber-700">Warm Golden Milk (Turmeric Latte)</h4>
                    <p class="mb-4 text-gray-600">Turmeric and ginger are known for their anti-inflammatory properties, promoting physical and mental ease.</p>
                    <ul class="list-disc list-inside space-y-1 text-base text-gray-700 pl-4">
                        <li>1 cup milk (dairy or almond)</li>
                        <li>1 tsp turmeric powder</li>
                        <li>1/2 tsp ginger powder</li>
                        <li>Pinch of black pepper (essential for absorption)</li>
                        <li>Sweetener to taste (honey or maple syrup)</li>
                    </ul>
                </div>
                <!-- Recipe Card 2: Calming Lavender Tea -->
                <div class="p-8 bg-white rounded-[2rem] card-shadow border-l-6 border-violet-300">
                    <h4 class="text-2xl font-semibold mb-4 text-violet-700">Soothing Lavender & Chamomile Tea</h4>
                    <p class="mb-4 text-gray-600">The gentle floral notes of lavender and the mild sedative effects of chamomile help quiet the mind.</p>
                    <ul class="list-disc list-inside space-y-1 text-base text-gray-700 pl-4">
                        <li>1 chamomile tea bag</li>
                        <li>1/2 tsp dried food-grade lavender buds</li>
                        <li>1 cup boiling water</li>
                        <li>Lemon slice and honey for taste</li>
                    </ul>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-white/90 mt-20 py-10 border-t border-gray-100 backdrop-blur-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center text-sm text-gray-500">
            <p class="text-base font-medium text-gray-600">&copy; 2025 Serenify. Crafted with care for your well-being.</p>
            <p class="mt-2 text-xs">A capstone project visual blueprint.</p>
        </div>
    </footer>
<script>
function selectEmoji(emoji) {
    document.getElementById('selectedEmoji').innerText = emoji;
    document.getElementById('emoji-input').value = emoji;
}
</script>
</body>
</html>