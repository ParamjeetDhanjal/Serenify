<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yoga Sanctuary - Serenify</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            --color-primary: #5fa393;
            --color-secondary: #f2f8f7;
            --color-accent: #f4c0a5;
            --color-shadow-light: rgba(95, 163, 147, 0.25);
        }
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #ffffff 0%, var(--color-secondary) 50%, #f7faf9 100%);
            min-height: 100vh;
        }
        .card-shadow {
            background-color: rgba(255, 255, 255, 0.98);
            border-radius: 2rem;
            box-shadow: 0 20px 50px var(--color-shadow-light);
            transition: all 0.4s ease;
            border: 1px solid white;
        }
        .card-shadow:hover { transform: translateY(-10px); }
        .section-header { border-left: 6px solid var(--color-primary); padding-left: 1.5rem; }
        .btn-primary { background-color: var(--color-primary); color: white; border-radius: 0.75rem; }
    </style>
</head>
<body class="p-6 md:p-12">
    <div class="max-w-7xl mx-auto">
        <header class="flex flex-col md:flex-row justify-between items-start md:items-center mb-16 gap-6">
            <div>
                <h2 class="text-4xl font-extrabold section-header">Yoga Sanctuary</h2>
                <p class="text-gray-500 mt-2 ml-6">Restore your rhythm through gentle movement.</p>
            </div>
            <a href="/yoga/add" class="btn-primary px-8 py-4 font-bold shadow-xl hover:brightness-110 transition">Share a Pose</a>
        </header>

        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-10">
            {% for pose in poses %}
            <div class="card-shadow overflow-hidden flex flex-col">
                <div class="h-48 bg-gray-100 relative">
                    {% if pose.image_url %}
                        <img src="{{ url_for('static', filename='yoga_images/' + pose.image_url) }}" class="w-full h-full object-cover">
                    {% else %}
                        <div class="w-full h-full flex items-center justify-center text-5xl">üßò‚Äç‚ôÄÔ∏è</div>
                    {% endif %}
                    <div class="absolute top-4 right-4 bg-white/90 backdrop-blur px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-widest text-teal-700">
                        {{ pose.difficulty }}
                    </div>
                </div>
                
                <div class="p-8 flex-grow">
                    <h3 class="text-2xl font-bold mb-2 text-gray-800">{{ pose.name }}</h3>
                    <p class="text-sm text-gray-500 mb-6 italic">{{ pose.category }} ‚Ä¢ {{ pose.duration }} Mins</p>
                    <p class="text-gray-600 text-sm line-clamp-3 mb-6">{{ pose.benefits }}</p>
                    
                   <div class="flex justify-between items-center mt-4">

    <a href="{{ url_for('yoga_detail', pose_id=pose.id) }}"
       class="text-[#5fa393] font-bold tracking-wider text-sm hover:underline">
        PRACTICE NOW ‚Üí
    </a>

    {% if pose.created_by == user.id %}
    <form action="{{ url_for('delete_yoga', pose_id=pose.id) }}"
          method="POST"
          onsubmit="return confirm('Are you sure you want to delete this pose?');">
        <button type="submit"
                class="text-red-500 text-sm font-bold hover:text-red-700">
            Delete
        </button>
    </form>
    {% endif %}

</div>

                </div>
                
                {% if pose.id in completed_ids %}
                <div class="bg-teal-50 p-3 text-center text-xs font-bold text-teal-600 uppercase tracking-widest">
                    ‚úì Session Completed
                </div>
                {% endif %}
            </div>
            {% endfor %}
        </div>
    </div>
</body>
</html>